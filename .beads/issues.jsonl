{"id":"icecream-0g4","title":"Test hash ID","status":"tombstone","priority":3,"issue_type":"task","owner":"jonathan@awellhealth.com","created_at":"2026-01-14T23:00:24.533397-05:00","created_by":"JB","updated_at":"2026-01-14T23:00:33.781348-05:00","deleted_at":"2026-01-14T23:00:33.781348-05:00","deleted_by":"JB","delete_reason":"delete","original_type":"task"}
{"id":"icecream-1","title":"Game Foundation Epic","description":"Set up the core Next.js application with Turbo, Redis session management, and foundational game state architecture.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:15:07.330628-05:00","closed_at":"2026-01-14T23:15:07.330628-05:00","close_reason":"All foundation tasks complete: Next.js app, Redis session, game state schema"}
{"id":"icecream-10","title":"Core Game Systems Epic","description":"Implement the layered pulse system (Global → City → Neighborhood → Family) with drift mechanics, event triggers, and cross-layer propagation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:15:07.444631-05:00","closed_at":"2026-01-14T23:15:07.444631-05:00","close_reason":"All core systems complete: Global/City/Neighborhood/Family pulse, events, cross-layer propagation"}
{"id":"icecream-11","title":"Implement Global pulse system","description":"Implement GlobalPulse with enforcementClimate, mediaNarrative, judicialAlignment, politicalVolatility. Update every 14-28 turns. Create GlobalEvent triggers.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:12:40.801432-05:00","closed_at":"2026-01-14T23:12:40.801432-05:00","close_reason":"Implemented updateGlobalPulse with volatility-based drift, shouldUpdateGlobalPulse for 14-28 turn cadence"}
{"id":"icecream-12","title":"Implement City pulse system","description":"Implement CityPulse with federalCooperation, dataDensity, politicalCover, civilSocietyCapacity, bureaucraticInertia. Update every 7 turns. Handle CityEvents.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:12:40.908427-05:00","closed_at":"2026-01-14T23:12:40.908427-05:00","close_reason":"Implemented updateCityPulse with global pressure propagation, weekly update cadence"}
{"id":"icecream-13","title":"Implement Neighborhood pulse system","description":"Implement NeighborhoodPulse with trust, suspicion, enforcementVisibility, communityDensity, economicPrecarity. Update every turn. Handle NeighborhoodEvents.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:12:41.014603-05:00","closed_at":"2026-01-14T23:12:41.014603-05:00","close_reason":"Implemented updateNeighborhoodPulse with cross-layer propagation from city/global, family influence"}
{"id":"icecream-14","title":"Implement Family impact system","description":"Implement FamilyImpact with visibility, stress, cohesion, trustNetworkStrength. These are modified by player choices and affect neighborhood pulses.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:12:41.121131-05:00","closed_at":"2026-01-14T23:12:41.121131-05:00","close_reason":"Implemented updateFamilyImpact with stress/cohesion dynamics based on neighborhood conditions"}
{"id":"icecream-15","title":"Implement event system","description":"Create event selection engine: weighted random based on pulse values, event pools per layer, severity scaling, duration tracking, and consequence resolution.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:13:43.33516-05:00","closed_at":"2026-01-14T23:13:43.33516-05:00","close_reason":"Implemented weighted random selection, trigger probability based on pulse, event templates for all layers, effect application, expiry pruning"}
{"id":"icecream-16","title":"Implement cross-layer propagation","description":"Implement propagation rules: effects flow down easily (global→city→neighborhood), up slowly. Use formulas from spec as starting point, tune for balance.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:13:43.444827-05:00","closed_at":"2026-01-14T23:13:43.444827-05:00","close_reason":"Already implemented in pulse.ts: global-\u003ecity-\u003eneighborhood propagation with formulas from spec, family influence on neighborhoods"}
{"id":"icecream-17","title":"Turn System Epic","description":"Implement the core gameplay loop: narrative prompts, player choices, unlock system, and consequence resolution within ~80 turn game arc.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:15:07.554597-05:00","closed_at":"2026-01-14T23:15:07.554597-05:00","close_reason":"Turn system complete: state machine, decision phase, choice/unlock, family variable effects"}
{"id":"icecream-18","title":"Design turn state machine","description":"Define turn phases: Plan → Pulse Update → Event → Decision → Consequence. Implement state machine with clear transitions and hooks for UI.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:14:53.023135-05:00","closed_at":"2026-01-14T23:14:53.023135-05:00","close_reason":"Implemented 5-phase turn loop (plan/pulse_update/event/decision/consequence), phase transitions, complete turn runner"}
{"id":"icecream-19","title":"Implement narrative prompt UI","description":"Build the core turn interface: display current situation, show narrative prompt text, render single-select and multi-select choice options.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:06.955992-05:00","closed_at":"2026-01-14T23:16:06.955992-05:00","close_reason":"Created NarrativePrompt component with single/multi-select, unlock conditions, choice effects display. Created StatusDisplay with family/neighborhood stat bars."}
{"id":"icecream-2","title":"Initialize Next.js app with Turbo","description":"Create the Next.js application using create-next-app with Turbo. Set up basic project structure, TypeScript config, and development environment.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:07:43.790214-05:00","closed_at":"2026-01-14T23:07:43.790214-05:00","close_reason":"Created Next.js app with TypeScript, Tailwind, ESLint, App Router, and Turbopack"}
{"id":"icecream-20","title":"Implement choice/unlock system","description":"Create system for conditional choice availability. Choices unlock based on: family variables, turn count, previous choices, neighborhood state, rights knowledge.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:14:53.133988-05:00","closed_at":"2026-01-14T23:14:53.133988-05:00","close_reason":"Implemented unlockConditions on choices (requiredChoices, minTurn, stats thresholds), filtering in decision generation"}
{"id":"icecream-21","title":"Connect choices to family variables","description":"Implement consequence engine: map player choices to family variable changes (visibility, stress, cohesion, trust network). Handle tradeoffs (work vs community).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:14:53.24406-05:00","closed_at":"2026-01-14T23:14:53.24406-05:00","close_reason":"Implemented effects application on family variables via applyEventEffects, choice recording in history"}
{"id":"icecream-22","title":"Content Generation Epic","description":"Generate all city profiles, neighborhood data, and event content for the 20 launch cities using the profiling pipeline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:00:06.742424-05:00"}
{"id":"icecream-23","title":"Generate profiles for all 20 cities","description":"Run city profiling agent for: LA, SF, Phoenix, Seattle, El Paso, Tucson, San Antonio, Chicago, Detroit, Minneapolis, Columbus, Houston, Miami, Atlanta, Nashville, NYC, Boston, Philadelphia, Newark, Denver.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:00:06.742424-05:00"}
{"id":"icecream-24","title":"Create base event pools","description":"Write/generate event templates for each event type: Audit, Checkpoint, RaidRumor, Meeting, Detention (neighborhood); Policy, Budget, Infrastructure, Media (city); Executive, Judicial, Media, Security (global).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:00:06.742424-05:00"}
{"id":"icecream-25","title":"Create city-specific special events","description":"For each city, create 3-5 special events based on recent news that can dramatically shift neighborhood conditions. These become content refresh pipeline.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:00:06.742424-05:00"}
{"id":"icecream-26","title":"Victory Conditions Epic","description":"Implement the three win conditions (Sanctuary, Outlast, Transform) and failure states with clear mechanical triggers.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:20.276019-05:00","closed_at":"2026-01-14T23:16:20.276019-05:00","close_reason":"Victory conditions epic complete: thresholds defined and detection implemented"}
{"id":"icecream-27","title":"Define victory/failure thresholds","description":"Specify exact conditions for each ending: Sanctuary (local protection threshold), Outlast (survive N turns until political shift), Transform (exposure/pressure threshold). Define failure states.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:20.054804-05:00","closed_at":"2026-01-14T23:16:20.054804-05:00","close_reason":"Defined in turn.ts: Sanctuary (trust\u003e=80, community\u003e=70, network\u003e=80), Outlast (survive maxTurns with climate\u003c40), Transform (cover\u003e=80, cooperation\u003c=20, narrative\u003c=-50), Failure (stress\u003e=95, cohesion\u003c=10)"}
{"id":"icecream-28","title":"Implement ending detection and resolution","description":"Create system to check win/loss conditions each turn, trigger appropriate ending sequences, and handle game completion state.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:20.166742-05:00","closed_at":"2026-01-14T23:16:20.166742-05:00","close_reason":"Implemented checkGameEnding() in turn.ts that checks all conditions each turn and sets GameEnding state"}
{"id":"icecream-3","title":"Set up Redis connection and session management","description":"Integrate Redis client (ioredis or similar), implement session ID generation, and create basic get/set helpers for game state persistence.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:09:30.86-05:00","closed_at":"2026-01-14T23:09:30.86-05:00","close_reason":"Added ioredis client, session ID generation with uuid, get/set/delete game state helpers, 7-day TTL"}
{"id":"icecream-4","title":"Define game state schema","description":"Define TypeScript interfaces for complete game state: GlobalPulse, CityPulse, NeighborhoodPulse, FamilyImpact, Events, and turn state. Store in Redis.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:14:58.13305-05:00","closed_at":"2026-01-14T23:14:58.13305-05:00","close_reason":"Implemented complete game state schema with types, validation, and factory functions"}
{"id":"icecream-5","title":"City Profiling Pipeline Epic","description":"Build tooling and agent workflows to generate structured city data from real news sources and demographic data for all 20 launch cities.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:00:06.742424-05:00"}
{"id":"icecream-6","title":"Set up NewsAPI integration","description":"Create utility to fetch recent news (2-3 months) for specific cities using NewsAPI.org. Focus on immigration, enforcement, sanctuary policy, and local politics keywords.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:11:50.442683-05:00","closed_at":"2026-01-14T23:11:50.442683-05:00","close_reason":"Created NewsAPI utility with searchCityImmigrationNews, searchCityPoliticsNews, getCityProfilingNews. Supports 2-3 month lookback, deduplication, agent-friendly formatting."}
{"id":"icecream-7","title":"Set up Census ACS API integration","description":"Create utility to fetch demographic data from Census American Community Survey API. Target: population, median income, foreign-born %, language data, housing costs.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:25.587527-05:00"}
{"id":"icecream-8","title":"Define city data schema","description":"Define TypeScript interfaces matching the spec: CityPulse, NeighborhoodPulse, CityEvent, NeighborhoodEvent. Include validation and defaults.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:11:06.633622-05:00","closed_at":"2026-01-14T23:11:06.633622-05:00","close_reason":"Defined CityProfile, Neighborhood, CityPulse, NeighborhoodPulse, event templates. Includes 20 launch cities list."}
{"id":"icecream-9","title":"Create city profiling agent workflow","description":"Design agent prompt and workflow that takes NewsAPI + Census data and produces structured city profiles per CITY_PROFILING_BRIEF. Output: JSON city files.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-14T23:00:06.742424-05:00","updated_at":"2026-01-14T23:16:25.697477-05:00"}
